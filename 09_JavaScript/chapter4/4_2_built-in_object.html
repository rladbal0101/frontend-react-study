<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    // 2. 내장 객체(JS 기본 제공)
    // 자바스크립트 엔진에 내장되어 필요한 경우 생성하여 사용

    // 1) 날짜 정보 객체: 날짜와 시간에 대한 정보를 제공
    // 변수 = new Date();
    // 사용성이 떨어져서 다른 외부 라이브러리 사용을 추천

    // 오늘 날짜에 대한 정보를 가지고 있는 객체 생성
    const today = new Date();
    const nowYear = today.getFullYear();
    const nowMonth = today.getMonth(); // 0~11: 현재 월보다 1 적게 나옴
    const nowDate = today.getDate();
    const nowDay = today.getDay(); // 0~6: 일~토

    document.write('<h1>오늘 날짜 정보</h1>');
    document.write('날짜 정보(기본 포맷): ' + today, '<br>');
    document.write('현재 연도: ' + nowYear, '<br>');
    document.write('현재 월: ' + nowMonth, '<br>');
    document.write('현재 일: ' + nowDate, '<br>');
    document.write('현재 요일: ' + nowDay, '<br>');

    // 특정 날짜 정보를 갖는 날짜 객체 생성
    // new Date(연, 월, 일, 시, 분, 초, 밀리초);
    // 변수 = new Date(연, 월 - 1, 일);
    // 변수 = new Date('연/월/일');
    // 변수 = new Date('연-월-일');
    const someDay = new Date(2023, 6, 11);
    // const someDay = new Date('2023/7/11');
    // const someDay = new Date('2023-7-11');
    const theYear = someDay.getFullYear();
    const theMonth = someDay.getMonth(); // 0~11: 현재 월보다 1 적게 나옴
    const theDate = someDay.getDate();
    const theDay = someDay.getDay(); // 0~6: 일~토

    document.write('<h1>특정 날짜 정보</h1>');
    document.write('날짜 정보(기본 포맷): ' + someDay, '<br>');
    document.write('특정 연도: ' + theYear, '<br>');
    document.write('특정 월: ' + theMonth, '<br>');
    document.write('특정 일: ' + theDate, '<br>');
    document.write('특정 요일: ' + theDay, '<br>');

    // 특정 날짜까지 D-day 구하기
    // 남은 일 수(밀리초) = 특정 날짜 객체 시간 - 현재 날짜 객체 시간
    // 1초 = 1000ms
    // 1분(60초) = 1000 * 60ms
    // 1시간(60분) = 1000 * 60 * 60ms
    // 1일(24시간) = 1000 * 60 * 60 * 24ms
    const diffDate = someDay.getTime() - today.getTime();
    // getTime(): 1970년 1월 1일 0시 0분 0초로부터 시작해서 지금까지 몇 ms가 지났는지

    const result = Math.ceil(diffDate / (1000 * 60 * 60 * 24));
    document.write('<h1>오늘부터 종강까지 남은 날짜</h1>');
    document.write('D-day: ' + result + '일 남았습니다.');
    
    // 2) 수학 객체: 수학 관련 기능과 속성을 제공
    // 객체 생성을 하지 않고 사용 가능 => 정적(static)
    // Math.메소드명();
    // Math.속성명;

    document.write('<h1>수학 객체 사용</h1>');
    const maxNum = Math.max(10, 5, 8, 30); // 최대값
    const minNum = Math.min(10, 5, 8, 30); // 최소값
    document.write(maxNum, '<br>');
    document.write(minNum, '<br>');

    const num = 2.1234;
    const roundNum = Math.round(num); // 소수점 첫째 자리 반올림
    const floorNum = Math.floor(num); // 소수점 첫째 자리 내림
    const ceilNum = Math.ceil(num); // 소수점 첫째 자리 올림
    document.write(roundNum, '<br>');
    document.write(floorNum, '<br>');
    document.write(ceilNum, '<br>');

    const randomNum = Math.random(); // 0이상 1미만의 난수 발생(실수값)
    document.write(randomNum, '<br>');
    document.write(Math.PI, '<br>');

    // random()을 이용하여 특정 범위의 랜덤한 정수값 구하기
    document.write('<h1>1~10까지 랜덤한 정수값 구하기</h1>');
    // 0.0 <= Math.random() < 1.0
    document.write(randomNum, '<br>');
    // 0.0 <= Math.random() * 10 < 10.0 (0이상 10미만의 랜덤한 실수값)
    document.write(randomNum * 10, '<br>');
    // 0 <= Math.floor(Math.random() * 10) < 10 (0이상 10미만의 랜덤한 정수값)
    document.write(Math.floor(randomNum * 10), '<br>');
    // 1 <= Math.floor(Math.random() * 10) + 1 < 11 (1이상 11미만의 랜덤한 정수값)
    document.write(Math.floor(randomNum * 10) + 1, '<br>');
    // 공식화: Math.floor(Math.random() * (최대값 - 최소값 + 1)) + 최소값;

    // 컴퓨터가 내려는 가위, 바위, 보 맞추기!
    document.write('<h1>컴퓨터 가위, 바위, 보 맞추기</h1>');
    const game = prompt('가위, 바위, 보 중 선택하세요.', '가위');
    let gameNum;
    
    switch (game) {
      case '가위':
        gameNum = 1;
        break;
      case '바위':
        gameNum = 2;
        break;
      case '보':
        gameNum = 3;
        break;
      default:
        alert('잘못 작성하셨습니다.');
        location.reload();
        break;
    }

    // 1~3 사이의 정수값 난수 발생
    const com = Math.floor(Math.random() * 3) + 1;
    document.write(`<img src="images/math_img_${com}.jpg">`);
    
    if (gameNum === com) {
      document.write('<img src="images/game_1.jpg">');
    } else {
      document.write('<img src="images/game_2.jpg">');
    }
    document.write('<br>');

    // Quiz: 맞추는 게임이 아닌 가위, 바위, 보 게임으로 바꿔보기!!

    document.write('<h1>컴퓨터랑 가위, 바위, 보 게임</h1>');
    document.write('내가 낸 것');
    // 내가 낸 것 이미지 출력
    document.write(`<img src="images/math_img_${gameNum}.jpg">`);
    document.write(' VS 컴퓨터가 낸 것');
    // 컴퓨터가 낸 것 이미지 출력
    document.write(`<img src="images/math_img_${com}.jpg">`);
    document.write('<br>');

    // 누가 이겼는지 출력!!
    // gameNum과 com의 차를 이용
    // 0이면 비김
    // 1 또는 -2 이면 이김
    // 그 외는 짐
    const whoWin = gameNum - com;
    if (whoWin === 0) {
      document.write('비겼다!');
    } else if (whoWin === 1 || whoWin === -2) {
      document.write('내가 이겼다!');
    } else {
      document.write('내가 졌다!');
    }

    // 3) 배열 객체: 변수는 하나의 데이터만 저장 가능, 배열은 여러 개의 데이터를 순차적으로 하나의 저장소에 저장
    // 예: 학생 30명의 시험 점수를 저장하려면 30개의 변수가 필요한데, 배열을 이용하면 하나의 배열로 30개의 데이터 저장 가능

    // 배열 객체 생성 3가지 방식
    // 첫번째 방식
    // 변수 = new Array(값1, 값2, 값3);

    // 두번째 방식
    // 변수 = new Array();
    // 변수[0] = 값1;
    // 변수[1] = 값2;
    // 변수[2] = 값3;

    // 세번째 방식
    // 변수 = [값1, 값2, 값3]; => 리터럴 방식

    // 배열에 저장된 값 출력하기(여러가지 방법이 존재)
    const arr = [30, '따르릉', true];
    // console.log(arr);

    document.write('<h3>배열값 가져오기-1</h3>');
    document.write(arr[0], '<br>');
    document.write(arr[1], '<br>');
    document.write(arr[2], '<br>');

    document.write('<h3>배열값 가져오기-2</h3>');
    for (let i = 0; i < arr.length; i++) {
      document.write(arr[i], '<br>');
    }

    document.write('<h3>배열값 가져오기-3</h3>');
    for (const i in arr) { // Key 값을 가져옴
      document.write(arr[i], '<br>');
    }
    // (참고)
    // for..in 반복문은 배열이 아니라 객체와 함께 사용할 때 최적화되어 있어서 배열에 사용하면 객체에 사용하는 것 대비 10~100배 정도 느림
    // for..in 반복문의 속도가 대체로 빠른 편이기 때문에 문제가 되진 않지만, 이런 차이를 알고 적절히 사용
    // 보통 배열엔 되도록 for..in 쓰지 말 것을 권장!

    document.write('<h3>배열값 가져오기-4</h3>');
    for (const el of arr) { // Value 값을 가져옴(ES6차)
      document.write(el, '<br>');
    }

    document.write('<h3>배열값 가져오기-5</h3>');
    arr.forEach(function (element, index) {
      document.write(index, ' ', element, '<br>');
    });

    // 배열 객체의 메소드(1)


  </script>
</head>
<body>
  
</body>
</html>